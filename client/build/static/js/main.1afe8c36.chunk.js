(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},103:function(e,t){var a=this;e.exports={businessResults:function(e){fetch("/api/business",{method:"POST",mode:"cors",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.fetchBusiness()})},getUserData:function(){fetch("/api/user").then(function(e){return e.json()}).then(function(e){return console.log(e),e})}}},1493:function(e,t,a){},1494:function(e,t,a){},1498:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(26),l=a.n(s),c=(a(225),a(37)),o=a(38),i=a(41),m=a(39),u=a(42),h=a(17),d=a(13),f=(a(226),a(36));a(141),a(254);var E=function(e){return r.a.createElement(f.TopBar,{className:"myTopBar"},r.a.createElement(f.TopBarLeft,{className:"my-top-bar-right"},r.a.createElement(f.Menu,{className:"menuLeft"},r.a.createElement(f.MenuText,null,"Reservation Maker"),r.a.createElement(h.b,{to:"/home"},"Home"),r.a.createElement(h.b,{to:"/business"},"Business"),r.a.createElement(h.b,{to:"/search"},"Search"))),r.a.createElement(f.TopBarRight,null,r.a.createElement(f.Menu,{className:"menuRight"},r.a.createElement(h.b,{to:"/signup"},"Signup/Login"),r.a.createElement(h.b,{to:"/create-business"},"Create Business"),r.a.createElement(h.b,{to:"/profile"},"Profile"),r.a.createElement(f.MenuItem,{isActive:!0},r.a.createElement(h.b,{to:"/login"},"Login")))))};a(257);var p=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null,"Reservation Maker"))},v=a(187),g=a.n(v);a(144),a(145),a(273);var b=function(){return r.a.createElement("div",{className:"slideShow"},r.a.createElement(g.a,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1500},r.a.createElement("div",null,r.a.createElement("img",{src:"/assests/storefront1.jpg"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/assests/storefront2.jpg"})),r.a.createElement("div",null,r.a.createElement("img",{src:"/assests/storefront3.jpg"}))))};a(274);var y=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(b,null),r.a.createElement(p,null))};a(275);var N=function(e){return r.a.createElement("div",{className:"base-container",ref:e.containerRef},r.a.createElement("div",{className:"header"},"Login"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",placeholder:"username",id:"username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",id:"password"})))),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{type:"button",className:"btn",onClick:function(e){e.preventDefault();var t={username:document.querySelector("#username").value,password:document.querySelector("#password").value};console.log(t),fetch("/api/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e),window.location="/"})}},"Login")))},w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isLogginActive:!0,username:null,password:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.rightSide.classList.add("right")}},{key:"changeState",value:function(){this.state.isLogginActive?(this.rightSide.classList.remove("right"),this.rightSide.classList.add("left")):(this.rightSide.classList.remove("left"),this.rightSide.classList.add("right")),this.setState(function(e){return{isLogginActive:!e.isLogginActive}})}},{key:"render",value:function(){var e=this,t=this.state.isLogginActive,a=t?"login":"register";return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"container",ref:function(t){return e.container=t}},t&&r.a.createElement(N,{state:this.state,handleSubmit:this.handleSubmit,containerRef:function(t){return e.current=t}})),r.a.createElement(S,{current:"Login",currentActive:a,containerRef:function(t){return e.rightSide=t},onClick:this.changeState.bind(this)}))}}]),t}(n.Component),S=function(e){return r.a.createElement("div",{className:"right-side",ref:e.containerRef,onClick:e.onClick})},j=w,O=a(55),C=a(87),_=a(95),k=(a(102),a(29)),L=a(188),R=a.n(L);a(276);var T=function(e){var t=Object(n.useState)(new Date),a=Object(k.a)(t,2),s=a[0],l=a[1];return r.a.createElement(R.a,{id:e.id,name:e.name,selected:s,onChange:function(e){return l(e)},showTimeSelect:!0,timeFormat:"p",timeIntervals:15,dateFormat:"Pp"})};var x=function(e){var t=e.handleSubmit;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h1",null,"Create Account"),r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"username"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{placeholder:"Username",type:"text",id:"username",name:"username",noValidate:!0,onChange:e.handleChange})),r.a.createElement("div",{className:"firstName"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{className:e.firstName.length>0?"error":null,placeholder:"First Name",type:"text",id:"firstName",name:"firstName",noValidate:!0,onChange:e.handleChange}),e.firstName.length>0&&r.a.createElement("span",{className:"errorMessage"},e.firstName)),r.a.createElement("div",{className:"lastName"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{className:e.lastName.length>0?"error":null,placeholder:"Last Name",type:"text",id:"lastName",name:"lastName",noValidate:!0,onChange:e.handleChange}),e.lastName.length>0&&r.a.createElement("span",{className:"errorMessage"},e.lastName)),r.a.createElement("div",{className:"email"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:e.email.length>0?"error":null,placeholder:"Email",type:"email",id:"email",name:"email",noValidate:!0,onChange:e.handleChange}),e.email.length>0&&r.a.createElement("span",{className:"errorMessage"},e.email)),r.a.createElement("div",{className:"password"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:e.password.length>0?"error":null,placeholder:"Password",type:"password",id:"password",name:"password",noValidate:!0,onChange:e.handleChange}),e.password.length>0&&r.a.createElement("span",{className:"errorMessage"},e.password)),r.a.createElement(T,{id:"dtp",name:"dob"}),r.a.createElement("div",{className:"createAccount"},r.a.createElement("button",{onClick:t},"Create Account")),r.a.createElement("div",{className:"login"},r.a.createElement(h.b,{to:"/login"},r.a.createElement("button",null,"Already Have an Account?"))))))},A=(a(155),RegExp(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)),M=function(e){var t=e.formErrors,a=Object(_.a)(e,["formErrors"]),n=!0;return Object.values(t).forEach(function(e){e.length>0&&(n=!1)}),Object.values(a).forEach(function(e){null===e&&(n=!1)}),n},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:null,lastName:null,email:null,password:null,formErrors:{firstName:"",lastName:"",email:"",password:""}},a.handleSubmit=function(e){e.preventDefault(),console.log("inside function"),M(a.state)?(console.log("\n            --SUBMITTING--\n            ".concat(a.state.username,"\n            ").concat(a.state.dob,"\n            First Name: ").concat(a.state.firstName,"\n            Last Name: ").concat(a.state.lastName,"\n            Email: ").concat(a.state.email,"\n            Password: ").concat(a.state.password,"\n        ")),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.username,name:"".concat(a.state.firstName,"  ").concat(a.state.lastName),email:a.state.email,password:a.state.password,dob:a.state.dob})}).then(function(e){return e.json()}).then(function(e){return e}).then(window.location="/")):console.error("FORM INVALID - DISPLAY ERROR MESSAGE")},a.handleChange=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,s=Object(C.a)({},a.state.formErrors);switch(n){case"firstName":s.firstName=r.length<3?"minimum 3 characaters required":"";break;case"lastName":s.lastName=r.length<3?"minimum 3 characaters required":"";break;case"email":s.email=A.test(r)?"":"invalid email address";break;case"password":s.password=r.length<6?"minimum 6 characaters required":""}a.setState(Object(O.a)({formErrors:s},n,r),function(){return console.log(a.state)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,firstName:this.state.formErrors.firstName,lastName:this.state.formErrors.lastName,email:this.state.formErrors.email,password:this.state.formErrors.password}))}}]),t}(n.Component);a(335);a(103);var F=function(e){var t=e.reservation,a=e.entity,n=e.business;return console.log(t),console.log(a),console.log(n),r.a.createElement("div",null,r.a.createElement("div",null,"You reserved ",a.business_entity_name," at ",n.business_name," located on ",n.street," in ",n.city,"."),r.a.createElement("div",null,r.a.createElement("div",null,"Start: ",t.time_start),r.a.createElement("div",null,"End: ",t.time_end)))};var D=function(){var e=Object(n.useState)({}),t=Object(k.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)([]),c=Object(k.a)(l,2),o=c[0],i=c[1];return Object(n.useEffect)(function(){var e=fetch("/api/user").then(function(e){return e.json()}).then(function(e){return e}),t=fetch("api/userReservations").then(function(e){return e.json()}).then(function(e){return e});Promise.all([e,t]).then(function(e){s(e[0]),i(e[1])})},[]),r.a.createElement("div",null,r.a.createElement("h4",null,a.username),r.a.createElement("h6",null,"Your Reservations:"),o.map(function(e){return r.a.createElement(F,{key:e.reservation.id,reservation:e.reservation,entity:e.entity,business:e.business})}))};var P=function(e){var t=e.entity,a=e.businessName;return console.log("entity"),r.a.createElement("div",null,t.business_entity_name,r.a.createElement("div",null,t.description),r.a.createElement(h.b,{to:{pathname:"reserve/"+t.id,entity:t,business:a}},r.a.createElement("button",null,"Reserve Now!")))};var q=function(e){var t=Object(n.useState)({}),a=Object(k.a)(t,2),s=a[0],l=a[1],c=Object(n.useState)([]),o=Object(k.a)(c,2),i=o[0],m=o[1];return Object(n.useEffect)(function(){var t=fetch("/api/business/"+e.match.params.id).then(function(e){return e.json()}).then(function(e){return e}),a=fetch("/api/business/"+e.match.params.id+"/business_entity").then(function(e){return e.json()}).then(function(e){return e});Promise.all([t,a]).then(function(e){console.log(e),l(e[0]),m(e[1])})},[]),r.a.createElement("div",null,r.a.createElement("h4",null,s.business_name),r.a.createElement("h6",null,s.category),r.a.createElement("h6",null,s.street,", ",s.city),r.a.createElement("div",null,s.description),i.map(function(e){return r.a.createElement(P,{key:e.id,entity:e,businessName:s.business_name})}))},I=a(191),V=a.n(I),U=a(192),J=a.n(U),G=a(1507),H=V.a.definitions.address,W=J.a.map(H.state,function(e,t){return{key:H.state_abbr[t],text:e,value:H.state_abbr[t]}}),Y=function(){return r.a.createElement(G.a,{placeholder:"State",search:!0,selection:!0,options:W})};var z=function(e){var t=e.handleSubmit;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("h1",null,"Create Business"),r.a.createElement("form",{onSubmit:e.handleSubmit,noValidate:!0},r.a.createElement("div",{className:"business_name"},r.a.createElement("label",{htmlFor:"business_name"},"Name of Business"),r.a.createElement("input",{className:e.business_name.length>0?"error":null,placeholder:"Business Name",type:"text",name:"business_name",noValidate:!0,onChange:e.handleChange}),e.business_name.length>0&&r.a.createElement("span",{className:"errorMessage"},e.business_name)),r.a.createElement("div",{className:"category"},r.a.createElement("label",null,"Choose a Category:",r.a.createElement("select",{value:e.category.value,onChange:e.handleDropChange},r.a.createElement("option",{value:"entertainment"},"Entertainment"),r.a.createElement("option",{value:"fitness"},"Fitness"),r.a.createElement("option",{value:"restaurant"},"Restaurant"),r.a.createElement("option",{value:"health/beauty"},"Health/Beauty"),r.a.createElement("option",{value:"maintenance"},"Maintenance"),r.a.createElement("option",{value:"miscellaneous"},"Miscellaneous")))),r.a.createElement("div",{className:"city"},r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{className:e.city.length>0?"error":null,placeholder:"City",type:"text",name:"city",noValidate:!0,onChange:e.handleChange}),e.city.length>0&&r.a.createElement("span",{className:"errorMessage"},e.city)),r.a.createElement(Y,null),r.a.createElement("div",{className:"street"},r.a.createElement("label",{htmlFor:"street"},"Street"),r.a.createElement("input",{className:e.street.length>0?"error":null,placeholder:"Street",type:"text",name:"street",noValidate:!0,onChange:e.handleChange}),e.street.length>0&&r.a.createElement("span",{className:"errorMessage"},e.street)),r.a.createElement("div",{className:"createBusiness"},r.a.createElement("button",{onClick:t},"Create Business")))))},Z=function(e){var t=e.formErrors,a=Object(_.a)(e,["formErrors"]),n=!0;return Object.values(t).forEach(function(e){e.length>0&&(n=!1)}),Object.values(a).forEach(function(e){null===e&&(n=!1)}),n},$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={business_name:null,category:{value:"entertainment"},city:null,state:null,street:null,formErrors:{business_name:"",category:"",city:"",street:"",state:""}},a.handleSubmit=function(e){e.preventDefault(),console.log("inside function"),Z(a.state)?(console.log("\n            --SUBMITTING--\n            Business Name: ".concat(a.state.business_name,"\n            Category: ").concat(a.state.category,"\n            City: ").concat(a.state.city,"\n            State: ").concat(a.state.state,"\n            Street: ").concat(a.state.street,"\n        ")),fetch("/api/business",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({business_name:a.state.business_name,category:a.state.category,city:a.state.city,state:a.state.state,street:a.state.street})}).then(function(e){return e.json()}).then(function(e){return e})):console.error("FORM INVALID - DISPLAY ERROR MESSAGE")},a.handleChange=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,s=Object(C.a)({},a.state.formErrors);switch(n){case"business_name":s.business_name=r.length<3?"minimum 3 characaters required":"";break;case"category":s.category=r.length<3?"must choose a category":"";break;case"city":s.city=r.length<3?"minimum 3 characaters required":"";break;case"street":s.street=r.length<6?"minimum 6 characaters required":""}a.setState(Object(O.a)({formErrors:s},n,r),function(){return console.log(a.state)})},a.handleDropdownChange=function(e){a.setState({value:e.target.value})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,{handleChange:this.handleChange,handleDropdownChange:this.handleDropdownChange,handleSubmit:this.handleSubmit,business_name:this.state.formErrors.business_name,category:this.state.formErrors.category,city:this.state.formErrors.city,street:this.state.formErrors.street}))}}]),t}(n.Component);a(1493);a(1494);var K=function(e){var t=e.results;return console.log(t),r.a.createElement("div",null,r.a.createElement("h4",null,"Businesses that match your search:"),t.map(function(e){return r.a.createElement("div",null,r.a.createElement("h6",null,e.business_name),r.a.createElement("h6",null,e.category),r.a.createElement("h6",null,e.street,", ",e.city))}))};var Q=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)(function(){var e=fetch("/api/business").then(function(e){return e.json()}).then(function(e){return e});Promise.all([e]).then(function(e){s(e[0])})},[]),r.a.createElement("div",null,r.a.createElement("form",{className:"search"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{name:"business_name",type:"input",placeholder:"Business Name",id:"business_name"}),r.a.createElement("select",{name:"category",id:"category"},r.a.createElement("option",{value:""},"Select Category"),r.a.createElement("option",{value:"entertainment"},"Entertainment"),r.a.createElement("option",{value:"fitness"},"Fitness"),r.a.createElement("option",{value:"Resturaunt"},"Health/Beauty"),r.a.createElement("option",{value:"maintenance"},"Maintenance"),r.a.createElement("option",{value:"miscellaneous"},"Miscellaneous")),r.a.createElement("input",{name:"city",className:"",placeholder:"City",id:"city"}),r.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:function(e){e.preventDefault();var t={business_name:document.querySelector("#business_name").value,category:document.querySelector("#category").value,city:document.querySelector("#city").value};fetch("/api/business?"+new URLSearchParams(t)).then(function(e){return e.json()}).then(function(e){return s(e)})}},"Search"))),r.a.createElement(K,{results:a}))};var X=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(Q,null))},ee=a(136),te=a.n(ee),ae=a(207);var ne=function(e){var t=e.location.entity,a=e.location.business;console.log(t),console.log(a);try{return r.a.createElement("div",null,r.a.createElement("div",null,a),r.a.createElement("div",null,"Reserve ",t.business_entity_name),r.a.createElement("form",null,r.a.createElement("div",null,"Start Time: "),r.a.createElement(T,{id:"startTime"}),r.a.createElement("div",null,"End Time: "),r.a.createElement(T,{id:"endTime"}),r.a.createElement("button",{onClick:function(){var e=Object(ae.a)(te.a.mark(function e(a){var n;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n={reserved_entity_id:t.id,user_id:1,time_start:document.querySelector("#startTime").value,time_end:document.querySelector("#endTime").value,status:"reserved"},fetch("/api/business/0/business_entity/".concat(t.id,"/reserve"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){return console.log(e)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},"Reserve")))}catch(n){return console.log(n),r.a.createElement("div",null,r.a.createElement("h2",null,"Something went wrong!"),r.a.createElement("h4",null,"Please go back and try again"))}},re=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:y}),r.a.createElement(d.a,{exact:!0,path:"/home",component:y}),r.a.createElement(d.a,{exact:!0,path:"/signup",component:B}),r.a.createElement(d.a,{exact:!0,path:"/login",component:j}),r.a.createElement(d.a,{exact:!0,path:"/profile",component:D}),r.a.createElement(d.a,{exact:!0,path:"/business/:id",component:q}),r.a.createElement(d.a,{exact:!0,path:"/business/",component:q}),r.a.createElement(d.a,{exact:!0,path:"/create-business",component:$}),r.a.createElement(d.a,{exact:!0,path:"/search",component:X}),r.a.createElement(d.a,{exact:!0,path:"/business/reserve/:id",component:ne}))))}}]),t}(n.Component),se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(1497);l.a.render(r.a.createElement(re,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");se?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):le(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):le(e)})}}()},155:function(e,t,a){},220:function(e,t,a){e.exports=a(1498)},225:function(e,t,a){},254:function(e,t,a){},257:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},335:function(e,t,a){}},[[220,1,2]]]);
//# sourceMappingURL=main.1afe8c36.chunk.js.map